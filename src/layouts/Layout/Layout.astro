---
// ä» Astro.props è·å–é¡µé¢å…ƒæ•°æ®å’Œé…ç½®
const { title, keywords, description, pagecover, activeNav, Home } = Astro.props;
// å¯¼å…¥ç½‘ç«™å…¨å±€é…ç½®
import SITE_INFO from "@/config";
const { GoogleAds, Theme, HomeBanner } = SITE_INFO;
const { ad_Client, asideAD_Slot, articleAD_Slot } = GoogleAds;
// å¯¼å…¥ Head ç»„ä»¶ï¼Œç”¨äºç®¡ç† <head> æ ‡ç­¾å†…å®¹
import Head from "@/components/Head/Head.astro";
// å¯¼å…¥é¡¶éƒ¨å¯¼èˆªæ  Header ç»„ä»¶
import Header from "@/components/Header/Header.astro";
// å¯¼å…¥ Main åŒºåŸŸçš„ Header ç»„ä»¶
import MainHeader from "@/components/MainHeader/MainHeader.astro";
// å¯¼å…¥ä¾§è¾¹æ  Aside ç»„ä»¶
import Aside from "@/components/Aside/Aside.astro";
// å¯¼å…¥åº•éƒ¨ Footer ç»„ä»¶
import Footer from "@/components/Footer/Footer.astro";
// å¯¼å…¥è¿”å›é¡¶éƒ¨ BackTop ç»„ä»¶
import BackTop from "@/components/BackTop/BackTop.astro";
// å¯¼å…¥æ‰‹æœºç«¯ä¾§è¾¹æ  MobileSidebar ç»„ä»¶
import MobileSidebar from "@/components/MobileSidebar/MobileSidebar.astro";
// å¼•å…¥ Modern CSS Resetï¼Œç”¨äºé‡ç½®æµè§ˆå™¨é»˜è®¤æ ·å¼
import "@/styles/Reset.less";
// å¼•å…¥å…¨å±€åŸºç¡€æ ·å¼
import "@/styles/Base.less";
// å¼•å…¥ Layout è‡ªèº«çš„æ ·å¼
import "./Layout.less";
---

<html lang="zh-CN">
	<Head Title={title} Keywords={keywords} Description={description} PageCover={pagecover}>
		<!-- è°·æ­Œå¹¿å‘ŠJSåŠ è½½é¡¹ -->
		{ad_Client && (asideAD_Slot || articleAD_Slot) && <script is:inline async src={`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${ad_Client}`} crossorigin="anonymous" />}
		<!-- å½©æ——ğŸˆç‰¹æ•ˆè„šæœ¬ -->
		<script is:inline src="/assets/js/vhCaiqi.js" defer></script>
		<!-- å†…è”æ ·å¼ï¼Œç”¨äºåŠ¨æ€è®¾ç½®ä¸»é¢˜é¢œè‰²å’ŒBanneré«˜åº¦ -->
		<Fragment
			set:html={`<style>:root {${Object.entries(Theme)
				.map(([key, value]) => `${key}:${value};`)
				.join("")}--vh-main-header-height:${Home ? HomeBanner.HomeHeight : HomeBanner.PageHeight};--vh-home-banner:${HomeBanner.background}}</style>`}
		/>
	</Head>
	<body>
		<MobileSidebar />
		<Header activeNav={activeNav} />
		<main class="main">
			{HomeBanner.enable && <MainHeader />}
			<section class="main-inner" style={`padding-top:${HomeBanner.enable ? "0.88rem" : "calc(66px + 0.68rem)"}`}>
				<section class="main-inner-content">
					<!-- ä¸»è¦é¡µé¢å†…å®¹å°†é€šè¿‡ slot æ’å…¥åˆ°è¿™é‡Œ -->
					<slot />
				</section>
				<Aside />
			</section>
			<BackTop />
		</main>
		<Footer />

		<!-- ======================================================= -->
		<!-- == åœ¨è¿™é‡Œæ·»åŠ äº†å…¨å±€æ¨±èŠ±é£˜è½ç‰¹æ•ˆè„šæœ¬ == -->
		<!-- `defer` å±æ€§ç¡®ä¿è„šæœ¬åœ¨HTMLæ–‡æ¡£è§£æå®Œæ¯•åæ‰§è¡Œï¼Œä¸ä¼šé˜»å¡é¡µé¢æ¸²æŸ“ -->
		<script src="https://api.vvhan.com/api/script/yinghua" defer></script>
		<!-- ======================================================= -->

		<script>
			// å¯¼å…¥å¹¶æ‰§è¡Œå…¨å±€åˆå§‹åŒ–è„šæœ¬
			import InitFn from "@/scripts/Init";
			InitFn();
		</script>
	</body>
</html>
